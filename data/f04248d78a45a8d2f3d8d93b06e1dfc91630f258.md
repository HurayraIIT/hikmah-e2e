# Test info

- Name: invite - verify page elements
- Location: /home/runner/work/hikmah-e2e/hikmah-e2e/tests/invite.spec.ts:6:1

# Error details

```
Error: locator.click: Error: strict mode violation: getByRole('button', { name: 'Close' }) resolved to 2 elements:
    1) <button autofocus="" type="button" aria-label="Close" data-pc-section="closebutton" class="p-toast-icon-close p-link">…</button> aka getByRole('alert').filter({ hasText: 'New NotificationsYou have new' }).getByLabel('Close')
    2) <button autofocus="" type="button" aria-label="Close" data-pc-section="closebutton" class="p-toast-icon-close p-link">…</button> aka getByRole('alert').filter({ hasText: 'This link copied!' }).getByLabel('Close')

Call log:
  - waiting for getByRole('button', { name: 'Close' })

    at /home/runner/work/hikmah-e2e/hikmah-e2e/tests/invite.spec.ts:42:55
```

# Page snapshot

```yaml
- link:
  - /url: javascript:void(0)
  - img
- link "Khalid Yusuf":
  - /url: /@wpdabh
  - img "Khalid Yusuf"
- link "Khalid Yusuf":
  - /url: /@wpdabh
- link "@wpdabh":
  - /url: /@wpdabh
- paragraph: 32 Followers
- button:
  - img
- list:
  - listitem:
    - link "Your Feed":
      - /url: /
  - listitem:
    - link "My posts":
      - /url: /@wpdabh
  - listitem:
    - link "Lists":
      - /url: /lists
  - listitem:
    - link "My pages":
      - /url: /my-pages
  - listitem:
    - link "Saved posts":
      - /url: /bookmarks
  - listitem:
    - link "Settings":
      - /url: /settings
  - listitem:
    - link "Invite":
      - /url: /invites
  - listitem: Logout
- button "+ Add New Post"
- text: Copyright 2025 by Hikmah — A Kahf Software Initiative
- link "Support":
  - /url: /support
- text: ·
- link "Privacy Policy":
  - /url: /privacy-policy
- text: ·
- link "Terms & Conditions":
  - /url: /terms-and-conditions
- banner:
  - textbox "Search"
  - img
  - link "Invite":
    - /url: /invites
    - img
    - text: Invite
  - button:
    - img
  - button "9+":
    - img
    - text: 9+
  - link "Khalid Yusuf":
    - /url: /@wpdabh
    - img "Khalid Yusuf"
- paragraph: Invite Friends
- paragraph: Copy the link below to invite people
- textbox: https://hikmah.net?referrer=wpdabh
- button "Copy link"
- button "Share on Facebook":
  - img
  - text: Share on Facebook
- button "Share on Twitter":
  - img
  - text: Share on Twitter
- button "Share on LinkedIn":
  - img
  - text: Share on LinkedIn
- button "Share on WhatsApp":
  - img
  - text: Share on WhatsApp
- button "Share on Telegram":
  - img
  - text: Share on Telegram
- alert:
  - text: New Notifications You have new notifications
  - button "Close"
- alert:
  - img
  - text: This link copied!
  - button "Close"
```

# Test source

```ts
   1 | import { test, expect } from '@playwright/test';
   2 | import { randomSlug, randomString } from '../utils/random-data';
   3 |
   4 | const hikmahAuthFile = `playwright/.auth/hikmah01.json`;
   5 |
   6 | test("invite - verify page elements", async ({ browser }) => {
   7 |     const context = await browser.newContext({ storageState: hikmahAuthFile });
   8 |     const page = await context.newPage();
   9 |     await page.goto('/');
  10 |     await page.waitForLoadState('domcontentloaded');
  11 |     await page.waitForTimeout(3000);
  12 |
  13 |     // Check navigation from the homepage
  14 |     await expect(page.locator('#mainContent').getByRole('link', { name: 'Invite' })).toBeVisible();
  15 |     await expect(page.locator('#sidebarMenusList').getByRole('link', { name: 'Invite' })).toBeVisible();
  16 |
  17 |     await page.locator('#mainContent').getByRole('link', { name: 'Invite' }).click();
  18 |     await page.waitForLoadState('domcontentloaded');
  19 |     await expect(page.getByText('Invite Friends')).toBeVisible();
  20 |
  21 |     await page.goto('/');
  22 |     await page.waitForLoadState('domcontentloaded');
  23 |
  24 |     await page.locator('#sidebarMenusList').getByRole('link', { name: 'Invite' }).click();
  25 |     await page.waitForLoadState('domcontentloaded');
  26 |     await expect(page.getByText('Invite Friends')).toBeVisible();
  27 |
  28 |     // Verify the page contents
  29 |     await expect(page.getByText('Copy the link below to invite')).toBeVisible();
  30 |     await expect(page.locator('#myUrl')).toHaveValue("https://hikmah.net?referrer=wpdabh");
  31 |     await expect(page.getByRole('button', { name: 'Copy link' })).toBeVisible();
  32 |     await expect(page.getByRole('button', { name: 'Share on Facebook' })).toBeVisible();
  33 |     await expect(page.getByRole('button', { name: 'Share on Twitter' })).toBeVisible();
  34 |     await expect(page.getByRole('button', { name: 'Share on LinkedIn' })).toBeVisible();
  35 |     await expect(page.getByRole('button', { name: 'Share on WhatsApp' })).toBeVisible();
  36 |     await expect(page.getByRole('button', { name: 'Share on Telegram' })).toBeVisible();
  37 |
  38 |     // verify copy link button
  39 |     await page.getByRole('button', { name: 'Copy link' }).click();
  40 |     await page.waitForTimeout(500);
  41 |     await expect(page.getByText('This link copied!')).toBeVisible();
> 42 |     await page.getByRole('button', { name: 'Close' }).click();
     |                                                       ^ Error: locator.click: Error: strict mode violation: getByRole('button', { name: 'Close' }) resolved to 2 elements:
  43 |     await expect(page.getByText('This link copied!')).not.toBeVisible();
  44 |
  45 |     // Verify the clipboard contents
  46 |     await page.getByRole('textbox', { name: 'Search' }).click();
  47 |     await page.keyboard.press('ControlOrMeta+V');
  48 |     await page.getByRole('textbox', { name: 'Search' }).press('Enter');
  49 |     await expect(page.getByText('Search: https://hikmah.net?referrer=wpdabh')).toBeVisible();
  50 | });
```